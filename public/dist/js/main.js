(()=>{"use strict";function e(e,t){return e.filter((e=>e.name===t)).length>0}function t(e,t,a,n){const s=e.filter((e=>e.name===t)),l=document.createElement(a),c=document.createElement("span"),d=document.createElement("span");return s.length>0?(c.append(n),d.append(s[0].value)):(c.append(n),d.append(0)),l.append(c,d),l}function a(e,t,a){let n=document.createElement("span");n.classList.add("stat__single__left"),n.append(t);let s=document.createElement("span");return s.classList.add("stat__single__right"),s.append(a),e.append(n,s),e}!function(n){const s=document.getElementById("players__list");fetch("./api/player-stats.json").then((e=>e.json())).then((n=>{let l,c=n.players,d=[],p=[];const r=document.createElement("select");r.setAttribute("name","players"),r.setAttribute("id","select_players"),c.map((function(n){const l=n.stats;console.log("p");const c=document.createElement("div"),r=document.createElement("h2"),i=document.createElement("h3"),o=document.createElement("p"),m=document.createElement("p"),u=document.createElement("img"),_=document.createElement("div"),f=document.createElement("div"),y=document.createElement("div"),E=document.createElement("div"),g=document.createElement("div"),h=document.createElement("div"),b=document.createElement("option");b.setAttribute("value",`${n.player.id}`),b.appendChild(document.createTextNode(`${n.player.name.first} ${n.player.name.last}`)),p.push(b),c.setAttribute("class","player-stat__container"),c.setAttribute("id",`player__${n.player.id}`),u.setAttribute("src",`./assets/images/players/p${n.player.id}.png`),u.setAttribute("alt",`${n.player.name.first} ${n.player.name.last}`),_.setAttribute("class","logo__club"),_.setAttribute("id",`club_${n.player.currentTeam.id}`),f.classList.add("wrap--logo__club"),y.classList.add("player-stat__img"),E.classList.add("player-stat__content"),g.classList.add("player-stat__content__intro"),h.classList.add("player-stat__content__stats"),d.push(c);const v=e(l,"goals"),$=e(l,"appearances"),A=e(l,"fwd_pass"),w=e(l,"backward_pass"),L=e(l,"mins_played");if(v&&$&&a(o,"Goals per match",`${(n.stats.find((e=>"goals"===e.name)).value/n.stats.find((e=>"appearances"===e.name)).value).toFixed(2)}`),(A||w)&&L){let e=0;A&&(e+=n.stats.find((e=>"fwd_pass"===e.name)).value),w&&(e+=n.stats.find((e=>"backward_pass"===e.name)).value),a(m,"Passes per minute",`${(e/n.stats.find((e=>"mins_played"===e.name)).value).toFixed(2)}`)}let k=function(e){let t;switch(e){case"D":t="Defender";break;case"M":t="Midfielder";break;case"F":t="Forward";break;default:t="Goalkeeper"}return t}(n.player.info.position),x=document.createTextNode(`${n.player.name.first} ${n.player.name.last}`),C=document.createTextNode(`${k}`);const F=t(l,"appearances","p","Appearances"),T=t(l,"goal_assist","p","Assists"),G=t(l,"goals","p","Goals");r.appendChild(x),i.appendChild(C),f.appendChild(_),y.append(u,f),h.append(F,G,T,o,m),g.append(r,i),E.append(g,h),c.append(y,E),s.append(c)}));const i=document.getElementById("players__select");for(const e of p)l+=i.append(e);i.append(l),d[0].classList.add("show")})).catch((function(e){console.log(e)}))}()})();